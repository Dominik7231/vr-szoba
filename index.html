<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>VR Szoba & UV Minigolf — Élményközpont Kecskeméten</title>
  <meta name="description" content="VR szoba és UV minigolf egy helyen Kecskeméten. Baráti program, szülinap, csapatépítés — online foglalás, rugalmas csomagok." />
  <meta name="color-scheme" content="light dark">
  <meta property="og:title" content="VR Szoba & UV Minigolf — Kecskemét" />
  <meta property="og:description" content="Csúcsminőségű VR-élmény + neon UV minigolf pálya. Foglalj időpontot online!" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/vr-szoba/Új%20logo.jpg" />

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4e8cff">

  <link rel="icon" type="image/jpeg" href="Új%20logo.jpg">
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
  <link rel="apple-touch-icon" href="Új%20logo.jpg">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="VR & Minigolf">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    :root{
      --bg:#0b0b10; --surface:#11131a; --text:#f2f4f8; --muted:#a6adc8;
      --brand:#4e8cff; --brand-ink:#0a1e44; --ring:rgba(78,140,255,.45);
      --border: color-mix(in srgb, var(--text), transparent 86%);
      --shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f6f7fb; --surface:#ffffff; --text:#0d1220; --muted:#5b6680;
        --brand:#2e6bff; --brand-ink:#eaf1ff; --ring:rgba(46,107,255,.35);
        --border: color-mix(in srgb, var(--text), transparent 88%);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    /* Fontos: semmi se törje meg a hidden-t */
    [hidden]{display:none!important}

    body{
      margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial;
      background: radial-gradient(1200px 600px at 20% -10%, var(--brand-ink), transparent 55%), linear-gradient(180deg, var(--bg), #0d0f17);
      color:var(--text); line-height:1.6;
    }
    .container{width:min(1120px,92%); margin-inline:auto}
    a{color:inherit}
    img{max-width:100%; display:block}

    .skip{position:absolute;left:-9999px;top:auto;height:1px;width:1px;overflow:hidden}
    .skip:focus{position:static;height:auto;width:auto;padding:.5rem 1rem;background:var(--brand);color:#fff;border-radius:.5rem}

    header{
      position:sticky; top:0; z-index:100; backdrop-filter: blur(10px);
      background: color-mix(in srgb, var(--bg), transparent 70%);
      border-bottom:1px solid var(--border);
    }

    /* NAV – FIX: ne lógjon össze, törjön sorba szépen */
    .nav{
      display:flex;align-items:center;justify-content:space-between;
      padding:.7rem 0;
      gap:.75rem 1rem;          /* vízszintes + függőleges rés a sorok között */
      flex-wrap:wrap;           /* ha kevés a hely, a menü leugrik egy 2. sorba */
    }
    .brand{display:inline-flex;align-items:center;gap:.6rem;text-decoration:none;font-weight:800}
    .brand span{white-space:nowrap}   /* a logó melletti hosszú név ne törjön */
    .brand-logo{width:28px;height:28px;border-radius:.6rem;object-fit:cover;display:block;box-shadow:var(--shadow)}

    .menu{
      display:flex;align-items:center;
      gap:.75rem 1rem;
      flex-wrap:wrap;                   /* menüpontok törhetnek következő sorba */
      flex:1 1 520px;                   /* rugalmas szélesség, alapból tág hely */
      justify-content:flex-end;         /* jobbra zár a sor(ok)ban */
    }
    .menu > a, .menu .btn, #user-chip{white-space:nowrap} /* egy-egy pont ne törjön két sorba */
    .menu a{opacity:.9;text-decoration:none}
    .menu a:hover{opacity:1}
    .menu .btn{ padding:.55rem .85rem } /* kicsit karcsúbb gombok a fejléchez */

    /* Ha valaki desktopon már kinyitotta a mobilmenüt, visszaváltásnál legyen látható a flex menü */
    @media (min-width:821px){
      #site-menu{display:flex !important; position:static}
    }

    .nav-toggle{display:none;border:1px solid var(--border);background:transparent;color:var(--text);border-radius:.6rem;padding:.35rem .55rem}

    .btn{display:inline-block;padding:.75rem 1rem;border-radius:.9rem;border:1px solid var(--border);text-decoration:none;font-weight:700;box-shadow:var(--shadow)}
    .btn-primary{background:var(--brand);color:#fff;border-color:transparent}
    .btn-ghost{background:transparent;color:var(--text)}

    .section{padding:clamp(2.5rem,6vw,4rem) 0}
    .section.alt{background:linear-gradient(180deg, color-mix(in srgb, var(--surface), transparent 20%), transparent)}
    .grid{display:grid;gap:1rem}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:1rem;padding:1rem;box-shadow:var(--shadow)}

    .hero{padding: clamp(3rem,8vw,6rem) 0}
    .hero h1{font-size:clamp(2rem,3.6vw,3rem);line-height:1.15;margin:0 0 .7rem}
    .hero p{margin:0 0 1.2rem;color:var(--muted);max-width:60ch}
    .badge{display:inline-flex;align-items:center;gap:.4rem;border:1px solid color-mix(in srgb, var(--brand), transparent 55%);color:color-mix(in srgb, var(--brand), white 25%);padding:.25rem .6rem;border-radius:999px;font-size:.8rem}

    .features{grid-template-columns: repeat(auto-fit, minmax(220px, 1fr))}
    .pricing{grid-template-columns: repeat(auto-fit, minmax(240px, 1fr))}

    .form{display:grid;gap:1rem;max-width:620px}
    .field{display:grid;gap:.35rem}
    input,textarea,select{background:var(--surface);color:var(--text);border:1px solid var(--border);border-radius:.7rem;padding:.7rem .8rem;font:inherit;outline:none}
    input:focus,textarea:focus,select:focus{border-color:var(--brand);box-shadow:0 0 0 .25rem var(--ring)}
    .error{color:#ff6b6b;min-height:1em}
    .status{margin-top:.6rem;color:#8ae6a2}

    .thumb-img{aspect-ratio:16/9; width:100%; height:auto; border:1px solid var(--border); border-radius:1rem; object-fit:cover; background:#0d0f17}
    footer{border-top:1px solid var(--border);padding:1.2rem 0;text-align:center;color:var(--muted)}

    .reveal{opacity:0; transform: translateY(24px); transition: opacity .6s ease, transform .6s ease; will-change: opacity, transform;}
    .reveal.show{opacity:1; transform:none;}
    @media (prefers-reduced-motion: reduce){ .reveal{transition:none} }

    /* --- MODÁLOK (nyitási értesítő + auth + profil) --- */
    body.modal-open{overflow:hidden}
    .backdrop[hidden]{display:none}
    .backdrop{position:fixed; inset:0; z-index:1000; display:grid; place-items:center; background:rgba(8,10,20,.68); backdrop-filter:blur(10px); opacity:0; pointer-events:none; transition:opacity .25s ease;}
    .backdrop.show{opacity:1; pointer-events:auto}
    .modal-card{background:var(--surface); border:1px solid var(--border); border-radius:1rem; padding:1.25rem; width:min(560px,92%); box-shadow:var(--shadow); position:relative;}
    .modal-title{margin:0 2.2rem .5rem 0; font-size:clamp(1.2rem,2.6vw,1.6rem)}
    .modal-text{color:var(--muted); margin:.25rem 0 0}
    .modal-close{position:absolute; top:.55rem; right:.55rem; border:1px solid var(--border); background:transparent; color:var(--text); border-radius:.6rem; padding:.3rem .55rem; font:inherit; line-height:1; cursor:pointer;}

    .tabs{display:flex; gap:.5rem; margin:.25rem 0 1rem}
    .tabs button{border:1px solid var(--border); background:transparent; color:var(--text); border-radius:.6rem; padding:.4rem .7rem; cursor:pointer}
    .tabs button[aria-selected="true"]{background:var(--brand); color:#fff; border-color:transparent}

    @media (max-width: 820px){
      .nav-toggle{display:inline-block}
      .menu{position:absolute;right:.6rem;top:3.2rem;display:none;flex-direction:column;align-items:stretch;gap:.6rem;background:var(--surface);padding:.8rem;border-radius:.8rem;min-width:220px;border:1px solid var(--border);box-shadow:var(--shadow)}
      .menu.show{display:flex}
      .menu .btn{ text-align:center }
    }
  </style>
</head>
<body>
  <!-- NYITÁS ÉRTESÍTŐ -->
  <div id="opening-notice" class="backdrop" role="dialog" aria-modal="true" aria-labelledby="opening-title" hidden>
    <div class="modal-card">
      <button class="modal-close" type="button" aria-label="Bezárás" data-close>✕</button>
      <h2 id="opening-title" class="modal-title">Lehetséges megnyitás Október 14.</h2>
      <p class="modal-text">Várunk szeretettel! Köszönjük a türelmet.</p>
    </div>
  </div>

  <!-- AUTH MODÁL (Regisztráció / Bejelentkezés) -->
  <div id="auth-modal" class="backdrop" role="dialog" aria-modal="true" aria-labelledby="auth-title" hidden>
    <div class="modal-card">
      <button class="modal-close" type="button" aria-label="Bezárás" data-close>✕</button>
      <h2 id="auth-title" class="modal-title">Fiók</h2>

      <div class="tabs" role="tablist" aria-label="Fiók">
        <button id="tab-login" role="tab" aria-controls="panel-login" aria-selected="true">Bejelentkezés</button>
        <button id="tab-signup" role="tab" aria-controls="panel-signup" aria-selected="false">Regisztráció</button>
      </div>

      <div id="panel-login" role="tabpanel" aria-labelledby="tab-login">
        <form id="login-form" class="form" novalidate>
          <div class="field">
            <label for="login-email">E-mail</label>
            <input id="login-email" name="email" type="email" placeholder="te@pelda.hu" autocomplete="email" required>
            <small class="error"></small>
          </div>
          <div class="field">
            <label for="login-password">Jelszó</label>
            <input id="login-password" name="password" type="password" placeholder="••••••••" autocomplete="current-password" required>
            <small class="error"></small>
          </div>
          <button class="btn btn-primary" type="submit">Belépek</button>
          <p id="login-status" class="status" hidden></p>
        </form>
      </div>

      <div id="panel-signup" role="tabpanel" aria-labelledby="tab-signup" hidden>
        <form id="signup-form" class="form" novalidate>
          <div class="field">
            <label for="signup-email">E-mail</label>
            <input id="signup-email" name="email" type="email" placeholder="te@pelda.hu" autocomplete="email" required>
            <small class="error"></small>
          </div>
          <div class="field">
            <label for="signup-password">Jelszó</label>
            <input id="signup-password" name="password" type="password" placeholder="Min. 6 karakter" autocomplete="new-password" required>
            <small class="error"></small>
          </div>
          <div class="field">
            <label for="signup-username">Felhasználónév</label>
            <input id="signup-username" name="username" type="text" placeholder="pl. player123" autocomplete="nickname" minlength="3" maxlength="20" pattern="[a-zA-Z0-9_]{3,20}">
            <small class="error">3–20 karakter, csak betű/szám/„_”.</small>
          </div>
          <button class="btn btn-primary" type="submit">Regisztrálok</button>
          <p id="signup-status" class="status" hidden></p>
        </form>
      </div>
    </div>
  </div>

  <!-- PROFIL MODÁL (felhasználónév beállítás/módosítás) -->
  <div id="profile-modal" class="backdrop" role="dialog" aria-modal="true" aria-labelledby="profile-title" hidden>
    <div class="modal-card">
      <button class="modal-close" type="button" aria-label="Bezárás" data-close>✕</button>
      <h2 id="profile-title" class="modal-title">Profil</h2>
      <p class="modal-text">Itt tudod megadni vagy módosítani a felhasználóneved.</p>

      <form id="profile-form" class="form" novalidate>
        <div class="field">
          <label for="profile-username">Felhasználónév</label>
          <input id="profile-username" type="text" placeholder="pl. player123" autocomplete="nickname" minlength="3" maxlength="20" pattern="[a-zA-Z0-9_]{3,20}" required>
          <small class="error">3–20 karakter, csak betű/szám/„_”.</small>
        </div>
        <button class="btn btn-primary" type="submit">Mentés</button>
        <p id="profile-status" class="status" hidden></p>
      </form>
    </div>
  </div>

  <a class="skip" href="#main">Ugrás a tartalomra</a>

  <header>
    <div class="container nav">
      <a href="#hero-vr" class="brand" aria-label="VR Szoba és UV Minigolf logó">
        <img class="brand-logo" src="Új%20logo.jpg" alt="VR Szoba & UV Minigolf logó">
        <span>VR&nbsp;Szoba&nbsp;•&nbsp;UV&nbsp;Minigolf</span>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="site-menu" aria-label="Menü">☰</button>
      <nav id="site-menu" class="menu" aria-label="Főmenü">
        <a href="#hero-vr">VR</a>
        <a href="#hero-golf">UV Minigolf</a>
        <a href="#news">Újdonságok</a>
        <a href="#packages">Csomagok</a>
        <a href="#faq">GYIK</a>
        <a href="#gallery">Galéria</a>
        <a href="#contact">Kapcsolat</a>

        <!-- Auth UI -->
        <span id="user-chip" class="btn btn-ghost" hidden>Szia, <strong id="display-name"></strong></span>
        <a class="btn btn-ghost" href="#" id="open-auth">Belépés</a>
        <a class="btn btn-ghost" href="#" id="open-profile" hidden>Profil</a>
        <a class="btn btn-ghost" href="#" id="logout-btn" hidden>Kijelentkezés</a>

        <a class="btn btn-primary" href="#booking">Foglalás</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <!-- VR Hero -->
    <section id="hero-vr" class="hero">
      <div class="container">
        <span class="badge">VR élmény</span>
        <h1>VR Szoba Kecskeméten — csapatoknak, bulikhoz, élménynek</h1>
        <p>Merülj el a virtuális valóságban csúcsminőségű headsetekkel és többjátékos élményekkel. Ideális baráti programnak, születésnapra, csapatépítésre vagy randihoz.</p>
        <div class="actions" style="display:flex;gap:.8rem;flex-wrap:wrap;margin-top:1rem">
          <a class="btn btn-primary" href="#booking">Foglalok VR időpontot</a>
          <a class="btn btn-ghost" href="#features">Mit tudunk?</a>
        </div>
        <div style="display:flex;gap:1rem;align-items:center;margin-top:1rem;color:var(--muted);font-size:.95rem">
          <span>⭐ 4.9 értékelés</span>
          <span>👥 2–8 fő / alkalom</span>
          <span>⏱️ 60–180 perc</span>
        </div>
      </div>
    </section>

    <!-- UV Minigolf Hero -->
    <section id="hero-golf" class="hero alt">
      <div class="container">
        <span class="badge">Új: UV Minigolf</span>
        <h2 style="margin:0 0 .7rem;font-size:clamp(1.8rem,3.4vw,2.6rem)">Neonos UV Minigolf pálya — minden korosztálynak</h2>
        <p>Fénylő akadályok, világító labdák és látványos pályák. Tökéletes program családdal, barátokkal vagy csapatépítésre.</p>
        <div class="actions" style="display:flex;gap:.8rem;flex-wrap:wrap;margin-top:1rem">
          <a class="btn btn-primary" href="#booking">Foglalok Minigolf pályát</a>
          <a class="btn btn-ghost" href="#gallery-golf">Nézd meg a képeket</a>
        </div>
      </div>
    </section>

    <!-- Újdonságok -->
    <section id="news" class="section">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">Újdonságok</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Friss hírek a VR szobából és az UV minigolf pályáról.</p>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(260px,1fr))">
          <article class="card"><h3>⭐ Halloweeni UV hétvége</h3><p>Tematikus pályafények és jelmezverseny. Okt. 31–Nov. 3.</p></article>
          <article class="card"><h3>🎮 Új VR-játékok</h3><p>Kooperatív túlélős és ritmusjáték érkezett — próbáld ki!</p></article>
          <article class="card"><h3>🎁 Ajándékutalványok</h3><p>Megérkeztek az ünnepi ajándékkártyák — kérd egyedi üzenettel.</p></article>
        </div>
      </div>
    </section>

    <!-- Features (VR) -->
    <section id="features" class="section">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">Minden a felejthetetlen VR-élményért</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Kényelmes tér, segítőkész személyzet, változatos játékok és csomagok — csak hozzátok a kíváncsiságotokat.</p>
        <div class="grid features">
          <article class="card"><h3>Vezetett élmény</h3><p>Játékmester segít a beállításokban és a játék kiválasztásában.</p></article>
          <article class="card"><h3>Multiplayer & party</h3><p>Játsszatok együtt vagy egymás ellen — ideális szülinapra és csapatépítésre.</p></article>
          <article class="card"><h3>Higiénia & biztonság</h3><p>Fertőtlenítés minden használat előtt és után, egyedi arcpárnával.</p></article>
          <article class="card"><h3>Rugalmas foglalás</h3><p>Online időpontkérés, e-mail visszaigazolással és emlékeztetővel.</p></article>
          <article class="card"><h3>Ajándékkártya</h3><p>Lepd meg szeretteidet VR utalvánnyal egyedi üzenettel.</p></article>
          <article class="card"><h3>Központi elhelyezkedés</h3><p>Könnyen megközelíthető helyszín tömegközlekedéssel is.</p></article>
        </div>
      </div>
    </section>

    <!-- Csomagok -->
    <section id="packages" class="section alt">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">Csomagok — VR & UV Minigolf</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Egyszerű árak, rugalmas időpontok. Válaszd a neked valót!</p>

        <h3 style="margin-top:1rem">VR csomagok</h3>
        <div class="grid pricing" style="margin-bottom:1.5rem">
          <article class="card">
            <h4>Alap VR</h4>
            <p style="font-weight:800;font-size:1.05rem;margin:.25rem 0 .5rem">7 990 Ft / fő / óra</p>
            <ul style="margin:0 0 .8rem 1.1rem">
              <li>1 VR állomás</li><li>Játékmester támogatás</li><li>Alap játékválaszték</li>
            </ul>
            <a class="btn btn-primary" href="#booking">Foglalok</a>
          </article>
          <article class="card" style="position:relative;outline:2px solid var(--brand)">
            <span style="position:absolute;left:50%;transform:translateX(-50%);top:-.8rem;background:var(--brand);color:#fff;border-radius:999px;padding:.15rem .6rem;font-size:.75rem;font-weight:700">Legnépszerűbb</span>
            <h4>Csapat VR</h4>
            <p style="font-weight:800;font-size:1.05rem;margin:.25rem 0 .5rem">14 900 Ft / fő / 2 óra</p>
            <ul style="margin:0 0 .8rem 1.1rem">
              <li>2 VR állomás</li><li>Multiplayer módok</li><li>Fotó/videó készítés</li>
            </ul>
            <a class="btn btn-primary" href="#booking">Foglalok</a>
          </article>
        </div>

        <h3>UV Minigolf csomagok</h3>
        <div class="grid pricing">
          <article class="card">
            <h4>Alap Minigolf</h4>
            <p style="font-weight:800;font-size:1.05rem;margin:.25rem 0 .5rem">2 990 Ft / fő / 1 kör</p>
            <ul style="margin:0 0 .8rem 1.1rem">
              <li>Neonos pálya</li><li>Világító labdák</li><li>Alap pontlap</li>
            </ul>
            <a class="btn btn-primary" href="#booking">Foglalok</a>
          </article>
          <article class="card">
            <h4>Csapat Minigolf</h4>
            <p style="font-weight:800;font-size:1.05rem;margin:.25rem 0 .5rem">1,5 óra / zártkörű pálya</p>
            <ul style="margin:0 0 .8rem 1.1rem">
              <li>Max 12 fő</li><li>Bajnokság pontozólappal</li><li>Fotózás</li>
            </ul>
            <a class="btn btn-primary" href="#booking">Időpontot kérek</a>
          </article>
        </div>

        <h3 style="margin-top:2rem">Szülinap / Csapatépítés</h3>
        <div class="grid pricing">
          <article class="card">
            <h4>Party csomag</h4>
            <p style="font-weight:800">3 óra / egyedi program</p>
            <ul style="margin:0 0 .8rem 1.1rem">
              <li>VR + Minigolf kombináció</li><li>Zártkörű használat</li><li>Snack + üdítő opció</li>
            </ul>
            <a class="btn btn-primary" href="#booking">Ajánlatot kérek</a>
          </article>
        </div>
      </div>
    </section>

    <!-- Foglalás / Kapcsolat -->
    <section id="booking" class="section">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">Foglalj időpontot</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Töltsd ki az űrlapot, és nyitvatartásban 1–2 órán belül visszaigazolunk.</p>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(280px,1fr))">
          <!-- FormSubmit: AJAX beküldés, nincs külső “Thanks” oldal -->
          <form id="contact-form" class="card form" action="https://formsubmit.co/ajax/dobosdomi09@gmail.com" method="POST" accept-charset="UTF-8">
            <input type="hidden" name="_subject" value="Új foglalási kérés – VR/Minigolf">
            <input type="hidden" name="_template" value="table">
            <input type="hidden" name="_captcha" value="false">
            <input type="text" name="_honey" style="display:none">

            <div class="field">
              <label for="name">Név</label>
              <input id="name" name="name" type="text" required placeholder="Teljes neved" autocomplete="name" />
              <small class="error" aria-live="polite"></small>
            </div>
            <div class="field">
              <label for="email">E-mail</label>
              <input id="email" name="email" type="email" required placeholder="te@pelda.hu" autocomplete="email" />
              <small class="error" aria-live="polite"></small>
            </div>

            <div class="grid" style="grid-template-columns:repeat(3,1fr);gap:.75rem">
              <div class="field">
                <label for="date">Dátum</label>
                <input id="date" name="date" type="date" required />
                <small class="error"></small>
              </div>
              <div class="field">
                <label for="time">Idő</label>
                <input id="time" name="time" type="time" required />
                <small class="error"></small>
              </div>
              <div class="field">
                <label for="people">Létszám</label>
                <input id="people" name="people" type="number" min="1" max="12" value="4" />
                <small class="error"></small>
              </div>
            </div>

            <div class="field">
              <label for="package">Csomag</label>
              <select id="package" name="package" required>
                <option value="">Válassz csomagot…</option>
                <optgroup label="VR">
                  <option value="Alap VR">Alap VR</option>
                  <option value="Csapat VR">Csapat VR</option>
                </optgroup>
                <optgroup label="UV Minigolf">
                  <option value="Alap Minigolf">Alap Minigolf</option>
                  <option value="Csapat Minigolf">Csapat Minigolf</option>
                </optgroup>
                <optgroup label="Esemény">
                  <option value="Party csomag">Party csomag</option>
                </optgroup>
              </select>
              <small class="error"></small>
            </div>

            <div class="field">
              <label for="message">Megjegyzés</label>
              <textarea id="message" name="message" rows="4" placeholder="Extra infó: szülinap, csapatépítés, külön kérés…"></textarea>
              <small class="error"></small>
            </div>

            <button class="btn btn-primary" type="submit">Kérem a visszaigazolást</button>
            <p id="form-status" role="status" class="status" hidden>Köszönjük! Hamarosan felvesszük veled a kapcsolatot e-mailben.</p>
          </form>

          <aside class="card" style="display:grid;gap:.75rem;align-content:start;color:var(--muted)">
            <h3 style="color:var(--text);margin:0">Hasznos tudnivalók</h3>
            <ul style="margin:0 0 .2rem 1.1rem">
              <li>Érkezzetek 10 perccel előbb a rövid eligazítás miatt.</li>
              <li>Kényelmes ruházat ajánlott. Szemüveggel is használható.</li>
              <li>14 éves kor alatt kísérő szükséges.</li>
              <li>Lemondás: 24 órával előre díjmentes.</li>
            </ul>
            <div style="display:grid;gap:.35rem;font-size:.95rem">
              <div>📞 <a href="tel:+3612345678">+36 1 234 5678</a></div>
              <div>✉️ <a href="mailto:hello@vrszoba.hu">hello@vrszoba.hu</a></div>
              <div>📍 6000 Kecskemét, Korhánközi u. 10/A</div>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- VR Galéria -->
    <section id="gallery" class="section alt">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">VR képek</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Pillanatok a VR szobából — mosoly, izgalom, és sok-sok nevetés.</p>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr))">
          <img class="thumb-img" src="szoba-led.jpg?v=7"   alt="VR szoba lila LED világítással" loading="lazy">
          <img class="thumb-img" src="szoba-feher.jpg?v=7" alt="Világos VR szoba, két headsettel" loading="lazy">
          <img class="thumb-img" src="szoba-fa.jpg?v=7"    alt="VR szoba fa lamellás fallal" loading="lazy">
          <img class="thumb-img" src="szoba-neon.jpg?v=7"  alt="Neon keretes VR játéktér" loading="lazy">
        </div>
      </div>
    </section>

    <!-- UV Minigolf Galéria -->
    <section id="gallery-golf" class="section">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">UV Minigolf képek</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Neonos pálya, világító akadályok — minden korosztály imádja.</p>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr))">
          <img class="thumb-img" src="golf-1.jpg?v=7" alt="UV minigolf pálya neon vonalakkal" loading="lazy">
          <img class="thumb-img" src="golf-2.jpg?v=7" alt="Minigolf ütés közelről, világító labda" loading="lazy">
          <img class="thumb-img" src="golf-3.jpg?v=7" alt="Lyuk és akadályok lila-zöld fénnyel" loading="lazy">
        </div>
      </div>
    </section>

    <!-- GYIK -->
    <section id="faq" class="section alt">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">Gyakori kérdések</h2>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(260px,1fr))">
          <article class="card"><h3>Hogyan kapok visszaigazolást?</h3><p>Űrlap után e-mailt küldünk, szükség esetén telefonon egyeztetünk.</p></article>
          <article class="card"><h3>Milyen korosztálynak ajánlott?</h3><p>VR: 12+, UV minigolf: 6+ kísérővel. 14 év alatt kísérő szükséges.</p></article>
          <article class="card"><h3>Mit vegyek fel?</h3><p>Kényelmes ruha, zárt cipő. A minigolfhoz világos ruházat jól mutat a fényekben.</p></article>
          <article class="card"><h3>Higiénia</h3><p>VR arcpárna minden használat előtt/után fertőtlenítve, kézfertőtlenítő biztosított.</p></article>
          <article class="card"><h3>Fotózás / videó</h3><p>Szívesen segítünk képeket készíteni. A pályán is lehet fotózni vaku nélkül.</p></article>
          <article class="card"><h3>Parkolás</h3><p>A közelben több utcai parkoló és parkolóház található.</p></article>
        </div>
      </div>
    </section>

    <!-- Helyszín & nyitvatartás -->
    <section id="contact" class="section">
      <div class="container">
        <h2 style="margin:0 0 .5rem;font-size:clamp(1.6rem,3vw,2.2rem)">Könnyen megtalálsz</h2>
        <p style="color:var(--muted);max-width:65ch;margin:.2rem 0 1.2rem">Kecskemét belvárosában. Tömegközlekedéssel és autóval is egyszerűen megközelíthető.</p>
        <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(280px,1fr))">
          <div class="card">
            <h3>Helyszín</h3>
            <p>6000 Kecskemét, Korhánközi u. 10/A</p>
            <p style="display:flex;gap:.6rem;flex-wrap:wrap">
              <a class="btn btn-ghost" href="https://maps.google.com/?q=Kecskem%C3%A9t%2C%20Korh%C3%A1nk%C3%B6zi%20u%2010%2FA%2C%206000" target="_blank" rel="noreferrer">Megnyitás Google Mapsben</a>
              <a class="btn btn-ghost" href="https://waze.com/ul?q=Kecskem%C3%A9t%2C%20Korh%C3%A1nk%C3%B6zi%20u%2010%2FA%2C%206000&navigate=yes" target="_blank" rel="noreferrer">Megnyitás Waze-ben</a>
            </p>
          </div>
          <div class="card">
            <h3>Nyitvatartás</h3>
            <div style="display:grid;grid-template-columns:1fr auto;gap:.4rem;color:var(--muted)">
              <span>H–Cs</span><span>14:00 – 21:00</span>
              <span>P</span><span>14:00 – 23:00</span>
              <span>Szo</span><span>10:00 – 23:00</span>
              <span>V</span><span>10:00 – 20:00</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>© <span id="year"></span> VR Szoba & UV Minigolf — Minden jog fenntartva.</p>
    </div>
  </footer>

  <!-- Scroll reveal -->
  <script>
  (() => {
    const sel = [
      '#hero-vr .badge', '#hero-vr h1', '#hero-vr p', '#hero-vr .actions',
      '#hero-golf .badge', '#hero-golf h2', '#hero-golf p', '#hero-golf .actions',
      '#news .card', '#features .card', '#packages .card',
      '#gallery img', '#gallery-golf img', '#faq .card', '#contact .card', 'footer'
    ].join(',');

    const items = Array.from(document.querySelectorAll(sel));
    items.forEach((el, i) => {
      el.classList.add('reveal');
      el.style.transitionDelay = (i % 6) * 80 + 'ms';
    });

    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('show');
        else entry.target.classList.remove('show');
      });
    }, { threshold: 0, rootMargin: '0px 0px -5% 0px' });

    items.forEach(el => io.observe(el));
  })();
  </script>

  <!-- Mobil menü -->
  <script>
    const navToggle = document.querySelector('.nav-toggle');
    const siteMenu = document.querySelector('#site-menu');
    if (navToggle && siteMenu){
      navToggle.addEventListener('click', () => {
        const open = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', String(!open));
        siteMenu.classList.toggle('show');
      });
    }
  </script>

  <!-- Modálok (nyitás értesítő + auth + profil) -->
  <script>
  (() => {
    function wireModal(rootId, onOpen){
      const root = document.getElementById(rootId);
      if (!root) return;
      const closeBtn = root.querySelector('[data-close]');
      function open(){ root.hidden=false; requestAnimationFrame(()=>root.classList.add('show')); document.body.classList.add('modal-open'); onOpen && onOpen(); }
      function close(){ root.classList.remove('show'); document.body.classList.remove('modal-open'); setTimeout(()=>root.hidden=true,200); }
      root.addEventListener('click', e => { if (e.target === root) close(); });
      closeBtn && closeBtn.addEventListener('click', close);
      return { open, close, el: root };
    }

    // Nyitási értesítő: automatikus megjelenítés
    const opening = wireModal('opening-notice');
    opening && opening.open();

    // Auth modál
    const auth = wireModal('auth-modal');
    document.getElementById('open-auth')?.addEventListener('click', (e)=>{ e.preventDefault(); auth && auth.open(); });

    // Profil modál
    const profile = wireModal('profile-modal');
    window.__profileModal = profile; // elérhető más scriptekből is

    // Auth tabok
    const tabLogin = document.getElementById('tab-login');
    const tabSignup = document.getElementById('tab-signup');
    const panelLogin = document.getElementById('panel-login');
    const panelSignup = document.getElementById('panel-signup');
    function selectTab(which){
      const login = which === 'login';
      tabLogin.setAttribute('aria-selected', login?'true':'false');
      tabSignup.setAttribute('aria-selected', login?'false':'true');
      panelLogin.hidden = !login;
      panelSignup.hidden = login;
    }
    tabLogin?.addEventListener('click', ()=>selectTab('login'));
    tabSignup?.addEventListener('click', ()=>selectTab('signup'));
    selectTab('login');

    // Exponáljuk a close-t más scripteknek
    window.__authModal = auth;
  })();
  </script>

  <!-- FormSubmit AJAX: maradunk az oldalon -->
  <script>
  (() => {
    const form = document.getElementById('contact-form');
    const statusEl = document.getElementById('form-status');
    if (!form) return;

    function setError(input, msg){ const err = input.nextElementSibling; if (err) err.textContent = msg || ''; }
    function validate(){
      let ok = true;
      const req = ['name','email','date','time','package'];
      req.forEach(id=>{
        const el = document.getElementById(id);
        if (!el) return;
        if (!el.value.trim()){ setError(el,'Kérlek töltsd ki ezt a mezőt.'); ok=false; }
        else if (id==='email' && !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(el.value)){ setError(el,'Adj meg érvényes e-mail címet.'); ok=false; }
        else setError(el,'');
      });
      return ok;
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (!validate()) return;

      const data = Object.fromEntries(new FormData(form).entries());
      try{
        const resp = await fetch(form.action, {
          method:'POST',
          headers:{ 'Content-Type':'application/json', 'Accept':'application/json' },
          body: JSON.stringify(data)
        });
        if (!resp.ok) throw new Error('Hálózati hiba');
        statusEl.textContent = 'Köszönjük! Hamarosan felvesszük veled a kapcsolatot e-mailben.';
        statusEl.hidden = false;
        form.reset();
        setTimeout(()=> statusEl.hidden = true, 5000);
      }catch(err){
        statusEl.textContent = 'Hopp! Valami elromlott. Kérlek próbáld újra később.';
        statusEl.hidden = false;
        setTimeout(()=> statusEl.hidden = true, 5000);
      }
    });
  })();
  </script>

  <!-- Supabase auth + felhasználónév -->
  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';

    const SUPABASE_URL = 'https://opaxjkektkvbktzsyjmn.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wYXhqa2VrdGt2Ymt0enN5am1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5NDgyNDIsImV4cCI6MjA3MTUyNDI0Mn0.08MuTnZZoIst55SmRXVKkTrLLjnxBMnHVc5U_pbovUM';
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY, { auth: { persistSession: true, autoRefreshToken: true } });

    // Fejléc elemek
    const openAuthBtn   = document.getElementById('open-auth');
    const openProfileBtn= document.getElementById('open-profile');
    const logoutBtn     = document.getElementById('logout-btn');
    const userChip      = document.getElementById('user-chip');
    const displayNameEl = document.getElementById('display-name');

    function getDisplayName(user){
      const uname = user?.user_metadata?.username;
      return (uname && String(uname).trim()) ? uname.trim() : (user?.email || '');
    }

    function renderUser(user){
      if (user && (user.email || user.user_metadata)){
        displayNameEl.textContent = getDisplayName(user);
        userChip.hidden = false;
        logoutBtn.hidden = false;
        openProfileBtn.hidden = false;
        openAuthBtn.hidden = true;
      } else {
        displayNameEl.textContent = '';
        userChip.hidden = true;
        logoutBtn.hidden = true;
        openProfileBtn.hidden = true;
        openAuthBtn.hidden = false;
      }
    }

    // Induláskor: alapállapot, majd session lekérés
    renderUser(null);
    (async () => {
      const { data: { session } } = await supabase.auth.getSession();
      renderUser(session?.user || null);
    })();

    // Auth state változás figyelése
    supabase.auth.onAuthStateChange((_event, session) => {
      renderUser(session?.user || null);
    });

    // Kijelentkezés – közvetlen handler
    logoutBtn?.addEventListener('click', async (e) => {
      e.preventDefault();
      try{
        const { error } = await supabase.auth.signOut();
        if (error) throw error;
        renderUser(null);
      }catch(err){
        alert('Kijelentkezés sikertelen: ' + (err?.message || err));
      }
    });

    // PROFIL – megnyitás és előtöltés
    document.getElementById('open-profile')?.addEventListener('click', async (e) => {
      e.preventDefault();
      const { data: { user } } = await supabase.auth.getUser();
      const input = document.getElementById('profile-username');
      input.value = user?.user_metadata?.username || '';
      window.__profileModal?.open?.();
    });

    // PROFIL – mentés (felhasználónév update user metadata-ben)
    const profileForm   = document.getElementById('profile-form');
    const profileStatus = document.getElementById('profile-status');
    profileForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const username = document.getElementById('profile-username').value.trim();
      if (!/^[a-zA-Z0-9_]{3,20}$/.test(username)){
        profileStatus.textContent = 'Érvénytelen felhasználónév. Csak betű/szám/„_”, 3–20 karakter.';
        profileStatus.hidden = false;
        return;
      }
      try{
        const { error } = await supabase.auth.updateUser({ data: { username } });
        if (error) throw error;
        profileStatus.textContent = 'Mentve ✔';
        profileStatus.hidden = false;
        // Frissítsük a fejlécet a legújabb adatokkal
        const { data: { user } } = await supabase.auth.getUser();
        renderUser(user || null);
        setTimeout(()=> window.__profileModal?.close?.(), 800);
      }catch(err){
        profileStatus.textContent = 'Hiba: ' + (err?.message || err);
        profileStatus.hidden = false;
      }
    });

    // Bejelentkezés
    const loginForm = document.getElementById('login-form');
    const loginStatus = document.getElementById('login-status');
    loginForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim();
      const password = document.getElementById('login-password').value;
      const { error } = await supabase.auth.signInWithPassword({ email, password });
      if (error){
        loginStatus.textContent = 'Hiba: ' + error.message;
        loginStatus.hidden = false;
      } else {
        loginStatus.textContent = 'Sikeres belépés!';
        loginStatus.hidden = false;
        window.__authModal?.close?.();
      }
    });

    // Regisztráció — felhasználónév metaadat + e-mail megerősítés
    const signupForm = document.getElementById('signup-form');
    const signupStatus = document.getElementById('signup-status');
    signupForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email    = document.getElementById('signup-email').value.trim();
      const password = document.getElementById('signup-password').value;
      const username = document.getElementById('signup-username').value.trim();
      if (username && !/^[a-zA-Z0-9_]{3,20}$/.test(username)){
        signupStatus.textContent = 'Érvénytelen felhasználónév. Csak betű/szám/„_”, 3–20 karakter.';
        signupStatus.hidden = false;
        return;
      }
      const redirectTo = window.location.origin + '/vr-szoba/';
      const { error } = await supabase.auth.signUp({
        email, password,
        options: { emailRedirectTo: redirectTo, data: username ? { username } : {} }
      });
      if (error){
        signupStatus.textContent = 'Hiba: ' + error.message;
        signupStatus.hidden = false;
      } else {
        signupStatus.textContent = 'Elküldtük a megerősítő e-mailt. Kérlek kattints a levélben a linkre.';
        signupStatus.hidden = false;
      }
    });

    // E-mail megerősítés kezelése (token_hash + type a queryben)
    (async () => {
      const url = new URL(window.location.href);
      const token_hash = url.searchParams.get('token_hash');
      const type = url.searchParams.get('type'); // pl. "email"
      if (token_hash && type){
        const { error } = await supabase.auth.verifyOtp({ token_hash, type });
        if (!error){
          history.replaceState({}, '', window.location.pathname);
          const { data: { user } } = await supabase.auth.getUser();
          renderUser(user || null);
        } else {
          alert('E-mail megerősítés hiba: ' + error.message);
        }
      }
    })();
  </script>

  <!-- Strukturált adatok -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EntertainmentBusiness",
    "name": "VR Szoba & UV Minigolf",
    "description": "VR szoba és UV minigolf pálya Kecskeméten. Szülinap, csapatépítés és baráti programok.",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Korhánközi u. 10/A",
      "addressLocality": "Kecskemét",
      "postalCode": "6000",
      "addressCountry": "HU"
    },
    "telephone": "+36 1 234 5678",
    "sameAs": [],
    "openingHoursSpecification": [
      {"@type":"OpeningHoursSpecification","dayOfWeek":["Monday","Tuesday","Wednesday","Thursday"],"opens":"14:00","closes":"21:00"},
      {"@type":"OpeningHoursSpecification","dayOfWeek":["Friday"],"opens":"14:00","closes":"23:00"},
      {"@type":"OpeningHoursSpecification","dayOfWeek":["Saturday"],"opens":"10:00","closes":"23:00"},
      {"@type":"OpeningHoursSpecification","dayOfWeek":["Sunday"],"opens":"10:00","closes":"20:00"}
    ]
  }
  </script>

  <!-- Service Worker regisztráció + év a láblécben -->
  <script>
  if ('serviceWorker' in navigator) {
    let refreshing = false;
    navigator.serviceWorker.addEventListener('controllerchange', () => {
      if (refreshing) return;
      refreshing = true;
      window.location.reload();
    });
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/vr-szoba/sw.js');
    });
  }
  document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

